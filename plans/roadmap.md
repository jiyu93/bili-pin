# Bili Pin Roadmap

## v0.0.1（进行中）

### ✅ 已完成
- 动态页 `https://t.bilibili.com/` 注入“置顶UP”栏
- 在关注UP推荐列表注入“置顶/已置顶”按钮（可置顶/取消置顶）
- 置顶数据本地持久化（`chrome.storage.local`）
- 置顶UP栏展开/收起功能（记住状态）
- 置顶UP栏显示总数
- 置顶UP栏hover显示“已置顶”按钮，可取消置顶

### 🐛 已知Bug（待修复）
- **核心问题**：点击置顶UP头像时，如果该UP不在“关注UP推荐列表”里，无法触发Feed刷新
  - **最新方向**：页面加载拦截 `portal?up_list_more=1...` 拿到推荐横条的 `mid`；在 `world: 'MAIN'` 改写 `feed/all` 请求的 `host_mid`，让B站自己刷新Feed（不跳转 space 页）
- **高亮缺失**：点击置顶UP后，缺少蓝色圆框和蓝色文字的高亮显示（与B站原推荐列表选中状态一致）
  - 置顶栏高亮已做，推荐横条同步高亮仍待优化

### 📋 待实现功能
- [ ] 置顶UP栏支持拖拽排序（排序仍存本地）
- [ ] 点击置顶UP后，同步高亮显示（蓝色圆框+蓝色文字）

## v0.0.2（计划）
- [ ] 关注列表按关注时间筛选

### 验收标准
- 在至少 3 次刷新/切换路由后，置顶栏与按钮仍能正确注入且不重复
- 定位失败时不影响页面正常使用，并能提供足够的诊断信息用于修复


